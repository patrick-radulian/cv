.experience {
    flex-basis: 100%;
}

.experience-title {
}

.experience-timeline {
    --base: 0.75rem;
    --column: calc(var(--base) - var(--box-border-width) / 2) var(--box-border-width)
        calc(var(--base) - var(--box-border-width) / 2);
    --timeline-segment-length: 0.5rem;
    display: grid;
    grid-column: 2 / -1;
    grid-row: 2 / -1;
    grid-template-rows:
        1rem 1fr var(--column) 1fr minmax(1rem, auto) 1fr var(--column) 1fr minmax(1rem, auto) 1fr var(--column)
        1fr minmax(1rem, auto) 1fr var(--column) 1fr minmax(1rem, auto) 1fr var(--column) 1fr 0.5rem 1.5rem;
    grid-template-columns: var(--column) 0.5rem 1fr;
    font-size: 1rem;
    margin-inline: 0.25rem;
}

.experience-role {
    display: grid;
    grid-row: calc(2 + (var(--n) - 1) * 6) / calc(7 + (var(--n) - 1) * 6);
    grid-column: 7 / 8;
    align-content: center;
    padding-inline: 0.25rem;
    text-align: start;
}

.experience-timeline-segment {
    grid-row: calc(6 + (var(--n) - 1) * 6) / calc(9 + (var(--n) - 1) * 6);
    grid-column: 2 / 3;
}

.experience-timeline-segment:nth-child(1 of .experience-timeline-segment) {
    background: linear-gradient(135deg, #00dcff, #2bd5ff);
    grid-row: 1 / 3;
}

.experience-timeline-segment:nth-child(2 of .experience-timeline-segment) {
    background: linear-gradient(135deg, #45ccff, #9192ff);
}

.experience-timeline-segment:nth-child(3 of .experience-timeline-segment) {
    background: linear-gradient(135deg, #ac72ff, #e600ff);
}

.experience-timeline-segment:nth-child(4 of .experience-timeline-segment) {
    background: linear-gradient(135deg, #ed00d3, #f60094);
}

.experience-timeline-segment:nth-child(5 of .experience-timeline-segment) {
    background: linear-gradient(135deg, #fb0073, #ff005b);
}

.experience-timeline-segment:nth-child(6 of .experience-timeline-segment) {
    background: linear-gradient(135deg, #ff035b, #ff005b);
}

.experience-circle {
    display: grid;
    place-items: center;
    grid-row: calc(3 + (var(--n) - 1) * 6) / calc(6 + (var(--n) - 1) * 6);
    grid-column: 1 / 4;
    border-radius: var(--box-border-radius);
    font-size: 0.75rem;
    padding: 2px;
}

.experience-circle:nth-child(1 of .experience-circle) {
    background: linear-gradient(135deg, #00dcff, #2bd5ff);
}

.experience-circle:nth-child(2 of .experience-circle) {
    background: linear-gradient(135deg, #6cb4ff, #c058ff);
}

.experience-circle:nth-child(3 of .experience-circle) {
    background: linear-gradient(135deg, #d632ff, #f200ae);
}

.experience-circle:nth-child(4 of .experience-circle) {
    background: linear-gradient(135deg, #f200b5, #ff005a);
}

.experience-circle:nth-child(5 of .experience-circle) {
    background: linear-gradient(135deg, #ff005a, #ff005a);
}

.experience-circle-inner {
    display: grid;
    place-items: center;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: #0e141e;
}

.experience-connector {
    grid-row: calc(4 + (var(--n) - 1) * 6) / calc(5 + (var(--n) - 1) * 6);
    grid-column: 4 / 5;
    background-color: red;
}

.experience-connector:nth-child(1 of .experience-connector) {
    background: linear-gradient(135deg, #00dcff, #13daff);
}

.experience-connector:nth-child(2 of .experience-connector) {
    background: linear-gradient(135deg, #ab75ff, #cb47ff);
}

.experience-connector:nth-child(3 of .experience-connector) {
    background: linear-gradient(135deg, #d03fff, #de29e8);
}

.experience-connector:nth-child(4 of .experience-connector) {
    background: linear-gradient(135deg, #fc0376, #fd0268);
}

.experience-connector:nth-child(5 of .experience-connector) {
    background: linear-gradient(135deg, #ff005a, #ff005a);
}

.experience-arrow {
    grid-row: -2 / -1;
    grid-column: 1 / 4;
    background: linear-gradient(135deg, #ff005a, #ff005a);
    clip-path: polygon(
        0 0,
        50% 100%,
        100% 0,
        calc(50% + 1px) calc(100% - 0.5rem),
        calc(50% + 1px) 0,
        calc(50% - 1px) 0,
        calc(50% - 1px) calc(100% - 0.5rem)
    );
}

@media screen and (min-width: 240px) {
    .experience-timeline {
        --base: 1rem;
        grid-template-rows:
            1rem minmax(1rem, auto) var(--column) minmax(1rem, auto) var(--column) minmax(1rem, auto) var(--column)
            minmax(1rem, auto) var(--column) minmax(1rem, auto) var(--column) minmax(1rem, auto) 1.5rem;
        grid-template-columns: 1fr 1rem var(--column) 1rem 1fr;
        margin-inline: 0.5rem;
    }

    .experience-timeline-segment {
        grid-row: calc(6 + (var(--n) - 1) * 4) / calc(7 + (var(--n) - 1) * 4);
        grid-column: 4 / 5;
    }

    .experience-circle {
        grid-row: calc(3 + (var(--n) - 1) * 4) / calc(6 + (var(--n) - 1) * 4);
        grid-column: 3 / 6;
        font-size: 0.8rem;
    }

    .experience-connector {
        grid-row: calc(4 + (var(--n) - 1) * 4) / calc(5 + (var(--n) - 1) * 4);
    }

    .experience-connector:nth-child(odd) {
        grid-column: 2 / 3;
    }

    .experience-connector:nth-child(even) {
        grid-column: 6 / 7;
    }

    .experience-role {
        grid-row: calc(2 + (var(--n) - 1) * 4) / calc(7 + (var(--n) - 1) * 4);
    }

    .experience-role:nth-child(odd) {
        grid-column: 1 / 2;
        text-align: end;
    }

    .experience-arrow {
        grid-column: 3 / 6;
    }
}

@media screen and (min-width: 480px) {
    .experience-timeline {
        flex: 1;
        --timeline-segment-length: auto;
        grid-template-columns:
            1rem minmax(1rem, auto) var(--column) minmax(1rem, auto) var(--column) minmax(1rem, auto) var(--column)
            minmax(1rem, auto) var(--column) minmax(1rem, auto) var(--column) minmax(1rem, auto) 1.5rem;
        grid-template-rows: var(--base) 1fr 1rem var(--column) 1rem 1fr var(--base);
        margin-inline: 0;
    }

    .experience-timeline-segment {
        grid-column: calc(6 + (var(--n) - 1) * 4) / calc(7 + (var(--n) - 1) * 4);
        grid-row: 5 / 6;
    }

    .experience-timeline-segment:nth-child(1 of .experience-timeline-segment) {
        grid-column: 1 / 3;
        grid-row: 5 / 6;
    }

    .experience-circle {
        grid-column: calc(3 + (var(--n) - 1) * 4) / calc(6 + (var(--n) - 1) * 4);
        grid-row: 4 / 7;
    }

    .experience-connector:nth-child(n) {
        grid-column: calc(4 + (var(--n) - 1) * 4) / calc(5 + (var(--n) - 1) * 4);
    }

    .experience-connector:nth-child(odd) {
        grid-row: 3 / 4;
    }

    .experience-connector:nth-child(even) {
        grid-row: 7 / 8;
    }

    .experience-role:nth-child(n) {
        grid-column: calc(2 + (var(--n) - 1) * 4) / calc(7 + (var(--n) - 1) * 4);
        text-align: center;
    }

    .experience-role:nth-child(odd) {
        grid-row: 2 / 3;
    }

    .experience-role:nth-child(even) {
        grid-row: 8 / 9;
    }

    .experience-arrow {
        grid-row: 4 / 7;
        grid-column: -2 / -1;
        clip-path: polygon(
            0 0,
            100% 50%,
            0 100%,
            calc(100% - 0.5rem) calc(50% + 1px),
            0 calc(50% + 1px),
            0 calc(50% - 1px),
            calc(100% - 0.5rem) calc(50% - 1px)
        );
    }
}
